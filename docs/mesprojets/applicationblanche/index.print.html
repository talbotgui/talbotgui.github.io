<!DOCTYPE html>
<html lang="fr-fr" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="print">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.140.1">
    <meta name="generator" content="Relearn 7.2.1+f1701957c30daae7cd133bec5a7968480563ce9f">
    <meta name="description" content="Application Blanche">
    <meta name="author" content="Guillaume TALBOT">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Application Blanche :: Guillaume TALBOT">
    <meta name="twitter:description" content="Application Blanche">
    <meta property="og:url" content="https://talbotgui.github.io/mesprojets/applicationblanche/index.html">
    <meta property="og:site_name" content="Guillaume TALBOT">
    <meta property="og:title" content="Application Blanche :: Guillaume TALBOT">
    <meta property="og:description" content="Application Blanche">
    <meta property="og:locale" content="fr_fr">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Mes projets">
    <meta property="article:modified_time" content="2024-12-29T15:23:22+01:00">
    <meta itemprop="name" content="Application Blanche :: Guillaume TALBOT">
    <meta itemprop="description" content="Application Blanche">
    <meta itemprop="dateModified" content="2024-12-29T15:23:22+01:00">
    <meta itemprop="wordCount" content="2026">
    <title>Application Blanche :: Guillaume TALBOT</title>
    <link href="https://talbotgui.github.io/mesprojets/applicationblanche/index.html" rel="canonical" type="text/html" title="Application Blanche :: Guillaume TALBOT"><link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />

    <link href="/css/fontawesome-all.min.css?1735483664" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fontawesome-all.min.css?1735483664" rel="stylesheet"></noscript>
    <link href="/css/auto-complete.css?1735483664" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/auto-complete.css?1735483664" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar.min.css?1735483664" rel="stylesheet">
    <link href="/css/theme.min.css?1735483664" rel="stylesheet">
    <link href="/css/format-print.min.css?1735483664" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      window.relearn.relBasePath='..\/..';
      window.relearn.relBaseUri='..\/..';
      window.relearn.absBaseUri='https:\/\/talbotgui.github.io';
      window.relearn.min = `.min`;
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      // variant stuff
      window.relearn.themevariants = [ 'blue', 'relearn-light', 'relearn-dark' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.localStorage.setItem(window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.localStorage.getItem(window.relearn.absBaseUri + "/variant");
        var select = document.querySelector("#R-select-variant");
        if (select) {
          select.value = variant;
        }
      }
      window.relearn.initVariant = function() {
        var variant = window.localStorage.getItem(window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.localStorage.setItem(window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script><style>
    :root {
         
        --MAIN-WIDTH-MAX: 1000rem;
    }

     
    footer {
        border-top: solid 1px;
    }
</style>
  </head>
  <body class="mobile-support print" data-url="/mesprojets/applicationblanche/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#1-exigences">1/ Exigences</a>
      <ul>
        <li><a href="#11-m√©tiers">1.1/ m√©tiers</a></li>
        <li><a href="#12-techniques">1.2/ techniques</a></li>
      </ul>
    </li>
    <li><a href="#2-environnement">2/ Environnement</a></li>
    <li><a href="#3-architecture-technique">3/ Architecture technique</a></li>
    <li><a href="#4-tests">4/ Tests</a>
      <ul>
        <li><a href="#41-que-tester">4.1/ Que tester</a></li>
        <li><a href="#42-comment-tester">4.2/ Comment tester</a></li>
        <li><a href="#avec-quels-outils">Avec quels outils</a></li>
      </ul>
    </li>
    <li><a href="#5-r√®gles-de-conception">5/ R√®gles de conception</a>
      <ul>
        <li><a href="#51-persistance">5.1/ Persistance</a></li>
        <li><a href="#52-service">5.2/ Service</a></li>
        <li><a href="#53-api">5.3/ API</a></li>
      </ul>
    </li>
    <li><a href="#6-r√®gles-de-d√©veloppement">6/ R√®gles de d√©veloppement</a>
      <ul>
        <li><a href="#61-langue">6.1/ Langue</a></li>
        <li><a href="#62-nommage">6.2/ Nommage</a></li>
        <li><a href="#63-mise-en-forme-des-sources">6.3/ Mise en forme des sources</a></li>
        <li><a href="#64-hql">6.4/ HQL</a></li>
        <li><a href="#65-spring-data">6.5/ Spring Data</a></li>
        <li><a href="#66-rest">6.6/ REST</a></li>
      </ul>
    </li>
    <li><a href="#7-processus-de-d√©veloppement">7/ Processus de d√©veloppement</a>
      <ul>
        <li><a href="#71-gestion-de-configuration-logicielle-gcl">7.1/ Gestion de configuration logicielle (GCL)</a></li>
        <li><a href="#72-commit">7.2/ Commit</a></li>
        <li><a href="#73-industrialisation">7.3/ Industrialisation</a></li>
      </ul>
    </li>
    <li><a href="#8-installation-des-environnements">8/ Installation des environnements</a>
      <ul>
        <li><a href="#81-sur-le-serveur-unix">8.1/ Sur le serveur unix</a></li>
      </ul>
    </li>
    <li><a href="#9-faq">9/ FAQ</a></li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/index.html"><span itemprop="name">Guillaume TALBOT</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/mesprojets/index.html"><span itemprop="name">Mes projets</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Application Blanche</span><meta itemprop="position" content="3"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-print" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/mesprojets/applicationblanche/index.print.html" title="Print whole chapter (CTRL&#43;ALT&#43;p)"><i class="fa-fw fas fa-print"></i></a>
            </div>
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/mesprojets/mariage-guidededev/index.html" title="Mariage - Guide du d√©veloppeur (ü°ê)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/moncv/index.html" title="Mon CV (ü°í)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable mesprojets" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="application-blanche">Application Blanche</h1>

<p>Cette page est un court guide du d√©veloppeur (<a href="/mesidees/10-guidedudev/index.html">ma d√©finition du guide du d√©veloppeur</a>) pour un projet assez particulier : une <a href="https://github.com/talbotgui/appliBlanche" rel="external" target="_blank">Application Blanche</a>.</p>
<p>L&rsquo;objectif de l&rsquo;application blanche est de fournir un exemple d&rsquo;application (r√©guli√®rement utilis√© quand je donne des formations) mais aussi une structure minimale pour cr√©er une nouvelle application. A ce titre, l&rsquo;application doit √™tre particuli√®rement bien cod√©e (dans le fond comme dans la forme) mais aussi bien document√©e (il y a du boulot de ce cot√©-l√†).</p>
<h2 id="1-exigences">1/ Exigences</h2>
<p>Le fichier &ldquo;todoList.txt&rdquo; pr√©sent √† la racine de la branche <em>master</em> contient une backlog.</p>
<h3 id="11-m√©tiers">1.1/ m√©tiers</h3>
<p>L&rsquo;application n&rsquo;a pas d&rsquo;objectif m√©tier.</p>
<h3 id="12-techniques">1.2/ techniques</h3>
<p>Les sources √©voluent au gr√®s des besoins techniques que je veux prototyper et/ou des nouveaux usages/frameworks que je d√©couvre.</p>
<p>Mais, l&rsquo;application doit tout de m√™me r√©pondre aux exigences suivantes :</p>
<ul>
<li>facilement accessible sur tout support : PC, tablette, t√©l√©phone ;</li>
<li>√©volutive : chaque nouveau besoin doit √™tre facilement r√©alis√© (toujours rest√© sur des solutions simples et efficaces) ;</li>
<li>fiable (point primordiale) : l&rsquo;application ne doit pas subir de r√©gressions intempestives portant atteinte √† son utilisabilit√© ou √† la fiabilit√© de ses donn√©es.</li>
</ul>
<h2 id="2-environnement">2/ Environnement</h2>
<p>Ce projet n&rsquo;√©tait pas d√©ploy√© o√π que ce soit jusqu&rsquo;en septembre 2018. Avant cette date, seule la PIC d√©marre l&rsquo;application √† travers les tests (unitaires, d&rsquo;int√©gration et d&rsquo;application).
Depuis cette date, l&rsquo;application est d√©ploy√©e sur le serveur Unix et sera bient√¥t d√©ploy√©e sur le cloud de Google (GCP).</p>
<h2 id="3-architecture-technique">3/ Architecture technique</h2>
<p>Cette application se compose :</p>
<ul>
<li>d&rsquo;un backend coup√© en quatre modules :
<ul>
<li>un projet contenant les classes r√©utilisables pour les projets &ldquo;m√©tiers&rdquo;</li>
<li>un projet contenant les classes r√©utilisables pour les projets &ldquo;REST&rdquo;</li>
<li>un projet de services m√©tiers et de persistence</li>
<li>un projet de composants REST s√©curis√©s (avec JWT)</li>
</ul>
</li>
<li>d&rsquo;une application WEB d√©velopp√©e avec Angular</li>
<li>de la m√™me application WEB (m√™me √©crans et fonctionnalit√©s) d√©velopp√©e avec VueJS</li>
<li>de batch (simple en SQL et une autre avec JPA)</li>
</ul>
<p>Les applications WEB sont simples (voire simpliste) et mettent en oeuvre des composants diff√©rents pour faire des tests :</p>
<ul>
<li>un formulaire Material</li>
<li>l&rsquo;internationnalisation avec des libell√©s venant d&rsquo;une API</li>
<li>une application PWA</li>
<li>table Material</li>
<li>&hellip;</li>
</ul>
<h2 id="4-tests">4/ Tests</h2>
<h3 id="41-que-tester">4.1/ Que tester</h3>
<p>Les cas nominaux de tous les composants doivent √™tre test√©s ainsi que les cas d&rsquo;erreur principaux.</p>
<p>Aucune exigence n&rsquo;impose une couverture de code particuli√®re mais 80% est souhaitable pour tous les composants contenant de la logique (hors getter, setter, constructeur, code de <a href="/mesidees/11-programmationdefensive/index.html">programmation d√©fensive</a>, &hellip;)</p>
<h3 id="42-comment-tester">4.2/ Comment tester</h3>
<p><strong>Les composants m√©tiers</strong> (Service, Repostitory et Entit√©) doivent √™tre test√©s avec des tests d&rsquo;int√©gration. Il n&rsquo;est pas concevable de tester un syst√®me enti√®rement bas√© sur la notion de transaction et de requ√™tes SQL (Spring, Hibernate et la BDD) sans une connexion √† une base de donn√©es et sans activer les commits.</p>
<p>Si certains composants m√©tiers pr√©sentent une grande complexit√©, alors un <a href="/mesidees/03-testsdedeveloppement/index.html">test de granularit√© unitaire</a> est tout √† fait envisageable. Un tel composant n&rsquo;existe pas pour le moment.</p>
<p><strong>Les contr√¥leurs REST</strong> doivent √™tre test√©s unitairement. Ces composants ne sont pas transactionnels et les services sont test√©s par ailleurs. Mais, pour bien v√©rifier le param√©trage et le code, il est n√©cessaire de r√©aliser le test des contr√¥leurs en d√©marrant un serveur WEB (l&rsquo;adjectif &ldquo;unitaire&rdquo; utilis√© plus t√¥t est donc discutable - cf. <a href="/mesidees/03-testsdedeveloppement/index.html">test de d√©veloppement</a>).</p>
<p><strong>Les √©crans</strong> de l&rsquo;application sont test√©s en mode &ldquo;bout en bout&rdquo;. Selenium est utilis√© pour piloter le navigateur et un jeu de donn√©es est utilis√© pour initialiser le test. ATTENTION : les tests Selenium ne sont donc pas tous ind√©pendants les uns des autres. Ce n&rsquo;est pas une bonne pratique mais faire autrement avec un test de bout en bout est trop co√ªteux.</p>
<h3 id="avec-quels-outils">Avec quels outils</h3>
<p><strong>JUnit</strong> et <strong>TestNG</strong> sont tous deux des ex√©cuteurs de tests. JUnit est utilis√© dans les tests des composants m√©tiers. TestNG, √©tant plus pratique √† utiliser avec Mockito, est utilis√© pour l&rsquo;ex√©cution des tests des contr√¥leurs.</p>
<p><strong>Mockito</strong> est donc utilis√© pour bouchonner les services m√©tiers dans les tests des contr√¥leurs.</p>
<p>La classe utilitaire <strong>JdbcTemplate</strong> (fournie par Spring-jdbc) peut √™tre utilis√©e dans les tests m√©tiers afin d&rsquo;ex√©cuter simplement des requ√™tes SQL en base de donn√©es pour valider le contenu.</p>
<p>La classe utilitaire <strong>RestTemplate</strong> (fournie par Spring-web) peut √™tre utilis√©e dans les tests des contr√¥leurs pour r√©aliser les appels HTTP simplement.</p>
<p><strong>Selenium</strong> est une API tr√®s riche. La classe MyDriver rassemble les op√©rations usuelles utiles aux tests (il est tout √† fait possible de l&rsquo;enrichir).
Les s√©lecteurs √† utiliser dans les tests Selenium sont tous rassembl√©s dans la classe Selectors. Tous les s√©lecteurs doivent √™tre rassembl√©s dans cette classe.
Cette classe contient une hi√©rarchie de sous-classes structur√©e ainsi : NomDeLaPage / TypeDelements / selecteurElement. Exemple : Index.Button.CONFIRMER_SUPPRESSION
Toute modification d&rsquo;une page HTML doit entra√Æner l&rsquo;enrichissement de la classe Selectors avec le s√©lecteur permettant de s√©lectionner les √©l√©ments ajout√©s/modifi√©s/supprim√©s.</p>
<h2 id="5-r√®gles-de-conception">5/ R√®gles de conception</h2>
<h3 id="51-persistance">5.1/ Persistance</h3>
<p>Toute requ√™te de recherche sans param√®tre optionnel doit √™tre cod√©e dans un repository SpringData.</p>
<h3 id="52-service">5.2/ Service</h3>
<p>La gestion des transactions et des erreurs se traite au niveau des services qui sont les points d&rsquo;entr√©e et de sortie des transactions.</p>
<h3 id="53-api">5.3/ API</h3>
<p>Les services ne sont expos√©s via l&rsquo;API que s&rsquo;ils sont utilis√©s par l&rsquo;IHM.
La validation des param√®tres d&rsquo;entr√©e se fait dans le &ldquo;contr√¥leur&rdquo; et dans l&rsquo;√©cran.</p>
<h2 id="6-r√®gles-de-d√©veloppement">6/ R√®gles de d√©veloppement</h2>
<p>Les r√®gles ci-dessous doivent √™tre appliqu√©es par tout d√©veloppeur souhaitant participer √† ce projet (non n√©gociable). <strong>Par contre, il est toujours possible de discuter de la modification d&rsquo;une r√®gle.</strong></p>
<h3 id="61-langue">6.1/ Langue</h3>
<p>Les entit√©s, les attributs et les m√©thodes sont nomm√©s en fran√ßais.
Les commentaire sont en fran√ßais.
Les pr√©fixes, suffixes et concepts inh√©rents au langage reste en anglais (get, set, is, iterator, &hellip;)</p>
<h3 id="62-nommage">6.2/ Nommage</h3>
<p>Les composants applicatifs sont suffix√©s en fonction de leur type :</p>
<ul>
<li>&ldquo;Application&rdquo; pour les configurations SpringBoot,</li>
<li>&ldquo;Exception&rdquo; pour les exceptions,</li>
<li>&ldquo;DTO&rdquo; pour les structures de donn√©es de transport,</li>
<li>&ldquo;Service&rdquo; pour les services m√©tiers,</li>
<li>&ldquo;DAO&rdquo; pour l&rsquo;acc√®s √† la persistance,</li>
<li>&ldquo;REST&rdquo; pour l&rsquo;exposition de service en REST</li>
<li>et &ldquo;Test&rdquo; pour tous les tests</li>
</ul>
<p>Les entit√©s m√©tier et les classes utilitaires ne sont pas suffix√©es mais doivent avoir des noms parlant (l&rsquo;usage du nom d&rsquo;un pattern est utile pour d√©crire l&rsquo;usage/l&rsquo;utilit√© du composant)
Les classes impl√©mentant une interface sont suffix√©es par &ldquo;IMPL&rdquo;
Les noms de m√©thode commence par un verbe √† l&rsquo;infinitif</p>
<h3 id="63-mise-en-forme-des-sources">6.3/ Mise en forme des sources</h3>
<p>L&rsquo;usage des Save Actions d&rsquo;Eclipse est obligatoire pour conserver l&rsquo;homog√©n√©it√© du code (cf. <a href="/mesprojets/applicationblanche/index.html">petit tour d&rsquo;Eclipse</a>)</p>
<p>Le formatage des sources est celui par d√©faut dans Eclipse (version Oxygen) : 150 caract√®res par ligne (150 pour les commentaires) et indentation par tabulation.
Les membres sont tri√©s syst√©matiquement.
Les lignes ne contenant que des tabulations et/ou des espaces sont vid√©es.
Le mot clef &ldquo;final&rdquo; est plac√© sur toutes les variables affect√©es une seule fois et sur les param√®tres.
Le mot clef &ldquo;this&rdquo; est utilis√© syst√©matiquement.
Les cast inutiles sont supprim√©s.</p>
<h3 id="64-hql">6.4/ HQL</h3>
<p>Les requ√™tes HQL simples peuvent √™tre √©crites sur une seule ligne. Les plus complexes sont format√©es pour √™tre plus lisible. L&rsquo;usage des commentaires &ldquo;//&rdquo; en fin de ligne est autoris√© pour forcer Eclipse √† conserver √† la ligne la cha√Æne de caract√®re √† concat√©ner.</p>
<p>Toujours d√©finir par d√©faut l&rsquo;attribut READ_ONLY √† <em>true</em> sur une m√©thode chargeant des entit√©s persistantes. Seules les entit√©s n√©cessitant d&rsquo;√™tre &ldquo;managed&rdquo; doivent l&rsquo;√™tre (cf. documentation hibernate sur le cycle de vie des objets dans une session)
Ne jamais cr√©er un lien entre deux entit√©s en instanciant une entit√© et ne d√©finissant que son ID. Toujours utiliser <em>EntityManager.getReference</em>
La gestion des transactions est faite via les annotations Spring. Les exceptions du projet sont <em>runtime</em> et d√©clenchent donc le rollback. Seuls les composants de type &ldquo;Service&rdquo; et &ldquo;DAO&rdquo; peuvent √™tre transactionnels (par les &ldquo;contr√¥leur&rdquo;)</p>
<h3 id="65-spring-data">6.5/ Spring Data</h3>
<p>Les requ√™tes sont, pour la quasi totalit√© d&rsquo;entre elles, positionn√©es dans un Repository Spring Data. Elles sont donc dans les annotations d&rsquo;une interface et non dans une classe.
L&rsquo;usage de m√©thode <em>default</em> est interdit sur mon projet. Si je dois coder un algorithme, il doit √™tre dans le service. Si la requ√™te est compl√®xe (multi-crit√®res optionnels par exemple), il faut cr√©er une classe √† part.</p>
<p>Astuces et penses-b√™tes :</p>
<ul>
<li>ne jamais mettre de clause <em>order by</em> dans une requ√™te si la requ√™te est pagin√©e (usage d&rsquo;un param√®tre de type org.springframework.data.domain.Pageable)</li>
<li>toujours d√©finir la requ√™te <em>countQuery</em> d&rsquo;une requ√™te pagin√©e si la requ√™te contient un <em>join fetch</em></li>
</ul>
<h3 id="66-rest">6.6/ REST</h3>
<p>Les m√©thodes de contr√¥leur REST retournant uniquement une chaine de caract√®res doivent retourner la dite chaine entre <em>double quote</em>.</p>
<h2 id="7-processus-de-d√©veloppement">7/ Processus de d√©veloppement</h2>
<h3 id="71-gestion-de-configuration-logicielle-gcl">7.1/ Gestion de configuration logicielle (GCL)</h3>
<ul>
<li>Que comprend la GCL :
<ul>
<li>Les sources applicatives et de test sont dans un repository GIT ;</li>
<li>Le pr√©sent &ldquo;guide du d√©veloppeur&rdquo; est lui aussi dans un repository GIT mais s√©par√© (pas de gestion de version coh√©rente n√©cessaire) ;</li>
<li>Le bug tracker a utilis√© est celui du repository GitHub ;</li>
<li>Les plans de test &ldquo;m√©tier&rdquo; ne sont pas formalis√©s. Mais une partie d&rsquo;entre eux sont automatis√©s avec Selenium.</li>
</ul>
</li>
<li>La gestion de version :
<ul>
<li>une seule version existe pour le moment (branche &lsquo;master&rsquo;).</li>
<li>si des POC sont r√©alis√©s, ils doivent l&rsquo;√™tre dans une branche d√©di√©e</li>
<li>aucun TAG n&rsquo;est pos√© pour le moment (c&rsquo;est une chose √† faire prochainement)</li>
</ul>
</li>
</ul>
<h3 id="72-commit">7.2/ Commit</h3>
<p>Les messages de commit doivent √™tre explicites. Toute nouvelle fonctionnalit√© doit √™tre commit√©e avec un message commen√ßant par &ldquo;[FEATURE]&rdquo; (afin que le commit soit correctement affich√© dans la page <em>releaseNote</em> de l&rsquo;application).</p>
<h3 id="73-industrialisation">7.3/ Industrialisation</h3>
<h4 id="731-outils">7.3.1/ Outils</h4>
<p>GitHub h√©berge une partie des outils du projet : repository GIT &amp; guide du d√©veloppeur, &hellip;
L&rsquo;outil d&rsquo;int√©gration continue utilis√© est Jenkins (h√©berg√© sur un serveur EC2).
La qualim√©trie est r√©alis√©e avec Sonar (h√©berg√©e sur le site officiel en ligne).
Les relectures de code sont possibles avec GitHub mais ne sont pas utilis√©es actuellement (un seul d√©veloppeur pour le moment)</p>
<h4 id="732-processus">7.3.2/ Processus</h4>
<p>Quitte √† faire un petit projet sympa, autant utiliser les outils correctement. Donc le processus de d√©veloppement (m√™me s&rsquo;il est minimal) est pilot√© par un pipeline (cf. <a href="/mesidees/13-pipeline/index.html">pipeline</a>).
Le pipeline est lui aussi en GCL : dans le <em>JenkinsFile</em>
Le pipeline commence au commit du code et encha√Æne les √©tapes suivantes : compilation, tests m√©tiers, tests des contr√¥leurs, packaging, tests IHM, qualim√©trie, promotion manuelle et mise en production</p>
<h2 id="8-installation-des-environnements">8/ Installation des environnements</h2>
<h3 id="81-sur-le-serveur-unix">8.1/ Sur le serveur unix</h3>
<p>Le d√©ploiement sur un serveur Unix demande la cr√©ation</p>
<ul>
<li>d&rsquo;un r√©pertoire h√©bergeant l&rsquo;application WEB dans un sous r√©pertoire de /var/www/html.
<ul>
<li>Attention √† bien changer le root dans la configuration du build pour prendre en compte le nom du sous r√©pertoire dans /var/www/html/.</li>
<li>De plus, il faut donner les droits √† l&rsquo;utilisateur Jenkins d&rsquo;√©crire dans ce r√©pertoire.</li>
<li>Enfin, il faut modifier le fichier de configuration Apache pour permettre le chargement du WORKER : <code>Header set Content-Security-Policy &quot;worker-src https://*.guillaumetalbot.com;&quot;</code></li>
</ul>
</li>
<li>d&rsquo;un r√©pertoire h√©bergeant le Backend
<ul>
<li>Le r√©pertoire doit contenir des scripts de d√©marrage et d&rsquo;arr√™t (cf. sources de l&rsquo;application)</li>
<li>Le r√©pertoire doit aussi contenir les fichiers de configuration propres √† l&rsquo;environnement (log4j2.xml et application.properties)</li>
<li>De plus, il faut donner les droits √† l&rsquo;utilisateur Jenkins d&rsquo;√©crire dans ce r√©pertoire pour le JAR, les logs et la bases de donn√©es (attention aux fichiers cr√©√©s par un autre compte que Jenkins !).</li>
<li>Il ne faut pas oublier d&rsquo;ajouter les redirections dans la configuration Apache !!</li>
</ul>
</li>
</ul>
<p>Sujets non trait√©s ici (pour le moment) :</p>
<ul>
<li>conception
<ul>
<li>quels sont les outils de conception et/ou de mod√©lisation ?</li>
<li>quels sont les objectifs des mod√®les (compr√©hension, communication, ‚Ä¶) et quelle est leur dur√©e de vie ?</li>
<li>r√®gles de conception (programmation d√©fensive, @designByContrat, modularit√©, &hellip;)</li>
<li>jeu de donn√©es de test</li>
</ul>
</li>
<li>d√©veloppement
<ul>
<li>liste des frameworks disponibles, leur usage et le pointeur sur leur documentation</li>
<li>qualim√©trie obligatoire avec le site &ldquo;online&rdquo; (avec sa configuration impos√©e par la plateforme d&rsquo;o√π les violations non corrig√©e qui ne le seront pas)</li>
<li>HQL propre</li>
<li>&hellip;</li>
</ul>
</li>
<li>industrialisation :
<ul>
<li>aucune installation de poste automatique car seul l&rsquo;IDE est n√©cessaire et l&rsquo;application est autoporteuse</li>
<li>IC = jenkins toujours √† jour avec un pipelineAsCode (lien vers le blog sur le sujet)</li>
<li>pipeline = git/compile/TU/TI/TA/qualim√©trie/promotion/production</li>
<li>√† quand un second d√©veloppeur et la mise en place des pullrequest et des revues de code ?</li>
</ul>
</li>
<li>roadmap :
<ul>
<li>tag √† la promotion (fin du d√©veloppement au fil de l&rsquo;eau et passage en mode paquet de code)</li>
<li>&hellip;</li>
</ul>
</li>
</ul>
<h2 id="9-faq">9/ FAQ</h2>
<ul>
<li>Erreur de s√©rialisation d&rsquo;un attribut @OneToMany dans Jackson √† cause d&rsquo;une LazyInitializationException
<ul>
<li>Utiliser la m√©thode MutableUtil.getMutable dans le getter</li>
</ul>
</li>
</ul>

  <footer class="footline">
              <i class='fa-fw fas fa-user'></i> <a href="mailto:talbotgui@gmail.com">Guillaume TALBOT</a>
              <i class='fa-fw fas fa-calendar'></i> Dec 29, 2024
  </footer>
</article>
        </div>
      </main>
    </div>
    <script src="/js/clipboard.min.js?1735483664" defer></script>
    <script src="/js/perfect-scrollbar.min.js?1735483664" defer></script>
    <script src="/js/theme.js?1735483664" defer></script>
  </body>
</html>
